import{o as _,R as h,s as y}from"./app.js";import{s as b}from"./app-ListStoreHelper-BmOHUGcC.js";import{a as r}from"./app-utils-Dp1jWI29.js";import{_ as S,a as k}from"./app-ListNavigation-sjL6o0Sj.js";import{_ as v}from"./app-LogoListView-CdWdn8VP.js";import{k as B,w,f as C,c as L,b as u,J as p,_ as m,M as R,u as s,F as $,o as c}from"./app-vue-BvXrwsFo.js";import"./app-icons-CLxSSBpP.js";import"./app-Dropdown-D3IVcZY9.js";import"./app-is-browser-DqcmxZSF.js";import"./app-Tag-Diz0mr1c.js";import"./app-LinksHelper-JyuD-9vd.js";import"./app-logos-BYnG71Bo.js";import"./app-lodash-Cpj98o6Y.js";import"./app-PerformantEllipsis-wPWZS25x.js";import"./app-Ellipsis-DogcHATq.js";import"./app-defaultLogo-CbgmFOV4.js";import"./app-Location-BJRs8FQC.js";import"./app-Internships-D4s5Scc3.js";const z=Object.create(b("business")),N=_("businessList",z),O={class:"row mb-2"},P={class:"col-12 col-lg-4"},Z={__name:"BusinessList",emits:["logout"],setup(V,{emit:j}){const i=y(),n=h(),e=N(),a=[{label:"10 per page",value:10},{label:"50 per page",value:50},{label:"100 per page",value:100}];B(async()=>{e.setSection("list"),await l(n.query)}),w(()=>n.query,async(t,o)=>{t!=o&&await l(n.query)},{deep:!0});async function l(t){if(t.b){r(t.b);return}else t.section&&e.setSection(t.section,t.type);try{await e.getData({page:0,size:a[0].value})}catch(o){console.log(o)}}function d(t){t=="connections"?i.push({name:"Businesses",query:{section:t,type:e.selectedConnection.key??"github"}}):t=="list"&&i.push({name:"Businesses",query:{section:t}})}function f(t){i.push({name:"Businesses",query:{section:e.selectedSection.key,type:t}})}const g=C(()=>{if(e.list?.list)return`${e.list.list.total} Businesses that use vvvv:`});return(t,o)=>(c(),L($,null,[u("div",O,[u("div",P,[R(S,{sections:s(e).sections,selected:s(e).selectedSection.key,onSelect:d},null,8,["sections","selected"])])]),s(e).selectedSection.key=="list"?(c(),p(v,{key:0,loading:s(e).loading,list:s(e).list?.list,title:g.value,onClick:s(r)},null,8,["loading","list","title","onClick"])):m("",!0),s(e).selectedSection.key=="connections"?(c(),p(k,{key:1,list:s(e).list?.connections,options:s(e).socialOptions,connection:s(e).selectedConnection,pageSizes:a,loading:s(e).loading,connectionKey:"business",onChange:f,onPage:s(e).getData},null,8,["list","options","connection","loading","onPage"])):m("",!0)],64))}};export{Z as default};
