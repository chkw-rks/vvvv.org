import{o as s,C as n}from"./app.js";const f=s("forHireList",{state:()=>({items:[],total:0,fetched:!1}),actions:{async fetch(a=!1){if(!(this.fetched&&!a))try{const{items:e,total:r}=await l();this.items=e,this.total=r,this.fetched=!0}catch{this.fetched=!1}}}}),i=n.GET_USERS+`?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=name,surname,username&meta=filter_count`;async function l(){const a=await fetch(i),e=await a.json();if(a.ok)return{items:e.data.map(t=>{const o=[t.name,t.surname].filter(Boolean).join(" ");return{username:t.username,name:o??null,contact:t.related[0].social??null,location:{city:t.location_city,country:t.location_country},hire:t.related[0].hire??null}}),total:e.meta?.filter_count??0};throw Error("Connection Error")}export{f as u};
